<div class="dash__box dash__box--shadow dash__box--radius dash__box--bg-white u-s-m-b-30">
  <!-- Loading State -->
  <div class="profile__loading" *ngIf="isLoading">
    <div class="profile__spinner">
      <i class="fas fa-spinner fa-spin"></i>
    </div>
    <p>Loading profile...</p>
  </div>

  <!-- Error State -->
  <div class="profile__error" *ngIf="error && !isLoading">
    <div class="profile__error-content">
      <i class="fas fa-exclamation-triangle"></i>
      <h3>Profile Error</h3>
      <p>{{ error }}</p>
      <div class="profile__error-actions">
        <button
          type="button"
          class="btn btn-primary"
          (click)="refreshProfile()">
          <i class="fas fa-redo"></i>
          Retry
        </button>
      </div>
    </div>
  </div>

  <!-- Profile Content -->
  <div class="dash__pad-2" *ngIf="!isLoading && !error && userProfile">
    <!-- Header Section -->
    <div class="profile__header">
      <div class="profile__header-content">
        <h1 class="dash__h1 u-s-m-b-14">My Account Information</h1>
        <p>
          From your My Account Dashboard you have the ability to view a snapshot of your recent account activity and
          update your account information.
        </p>
      </div>

      <div class="profile__header-actions">
        <button
          type="button"
          class="profile__refresh-btn"
          (click)="refreshProfile()"
          title="Refresh Profile">
          <i class="fas fa-sync-alt"></i>
        </button>
      </div>
    </div>

    <!-- Profile Cards Grid -->
    <div class="profile__grid">
      <!-- First Row - 3 columns -->
      <div class="profile__row">
        <div *ngFor="let card of profileCards.slice(0, 3)">
          <div class="dash__box dash__box--bg-grey dash__box--shadow-2 u-h-100"
               [class.profile__card--empty]="card.isEmpty">
            <div class="dash__pad-3">
              <h2 class="dash__h2 u-s-m-b-8">{{ card.title }}</h2>
              <span [class.profile__text--empty]="card.isEmpty">
                {{ card.value }}
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- Second Row - Remaining cards (2 cards) -->
      <div class="profile__row">
        <div *ngFor="let card of profileCards.slice(3, 5)">
          <div class="dash__box dash__box--bg-grey dash__box--shadow-2 u-h-100"
               [class.profile__card--empty]="card.isEmpty">
            <div class="dash__pad-3">
              <h2 class="dash__h2 u-s-m-b-8">{{ card.title }}</h2>
              <span [class.profile__text--empty]="card.isEmpty">
                {{ card.value }}
              </span>
            </div>
          </div>
        </div>


      </div>
    </div>

    <!-- Action Buttons -->
    <div class="profile__actions">
      <button
        type="button"
        class="btn btn-primary"
        (click)="editProfile()">
        <i class="fas fa-edit"></i>
        Edit Profile
      </button>

      <button
        type="button"
        class="btn btn-secondary"
        (click)="changePassword()">
        <i class="fas fa-lock"></i>
        Change Password
      </button>

      <button
        type="button"
        class="btn btn-success"
        (click)="manageCredit()">
        <i class="fas fa-wallet"></i>
        Manage Credit
      </button>
    </div>
  </div>
</div>
